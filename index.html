<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Backcoin.org | Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>
    
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self' data: blob: https: wss: ws:;
        script-src 'self' 'unsafe-inline' 'unsafe-eval' https:;
        style-src 'self' 'unsafe-inline' https:;
        img-src 'self' data: blob: https:;
        font-src 'self' https: data:;
        connect-src 'self' https: wss: ws:;
        frame-src 'self' https: https://*.walletconnect.com https://*.walletconnect.org https://verify.walletconnect.com https://secure.walletconnect.org;
    ">
    
    <link rel="icon" href="./assets/bkc_logo_3d.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="./styles/tiger-game-styles.css">
    <link rel="stylesheet" href="./styles/trade.css">

    <script src="https://cdn.jsdelivr.net/npm/ethers@6.4.0/dist/ethers.umd.min.js" defer></script>
    <script src="https://pay.coinbase.com/pay-sdk.js" defer></script>
    <script src="https://static.moonpay.com/web-sdk/v1/moonpay-web-sdk.min.js" defer></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'gradient-x': 'gradient-x 15s ease infinite',
                        'bounce-slow': 'bounce-slow 3s infinite ease-in-out',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'construct-hammer': 'construct-hammer 2s ease-in-out infinite',
                        'construct-gear': 'spin 10s linear infinite',
                        'construct-gear-rev': 'spin 10s linear infinite reverse',
                        'fadeIn': 'fadeIn 0.5s ease-out',
                    },
                    keyframes: {
                        'gradient-x': { '0%, 100%': { 'background-size': '200% 200%', 'background-position': 'left center' }, '50%': { 'background-size': '200% 200%', 'background-position': 'right center' } },
                        'bounce-slow': { '0%, 100%': { transform: 'translateY(-5%)' }, '50%': { transform: 'translateY(5%)' } },
                        'construct-hammer': { '0%, 100%': { transform: 'rotate(-10deg)' }, '50%': { transform: 'rotate(30deg)' } },
                        'fadeIn': { '0%': { opacity: 0 }, '100%': { opacity: 1 } }
                    }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        :root {
            --bg-main: #18181b; --bg-sidebar: #27272a; --bg-card: #3f3f46; --border-color: #52525b; --text-primary: #f4f4f5; --text-secondary: #a1a1aa; --accent: #f59e0b; --accent-hover: #d97706;
            --presale-bg-main: #0a0a0a; --presale-bg-darker: #000000; --presale-bg-card: #1a1a1a; --presale-border-color: #2a2a2a;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-main); color: var(--text-primary); }
        .sidebar-link.active { background-color: var(--accent); color: var(--bg-main); font-weight: 600; }
        .btn-disabled { background-color: #3f3f46 !important; color: #71717a !important; cursor: not-allowed !important; }
        .loader { border: 2px solid var(--border-color); border-radius: 50%; border-top: 2px solid var(--accent); width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* Utility Classes */
        .form-input { background-color: var(--bg-main); border: 1px solid var(--border-color); border-radius: 0.375rem; padding: 0.75rem 1rem; color: var(--text-primary); width: 100%; transition: border-color 0.2s, box-shadow 0.2s; }
        .form-input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.4); }
        .form-input:disabled { background-color: #27272a; cursor: not-allowed; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-sidebar); }
        ::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--bg-card); }
        
        /* Presale Styles */
        #presale { background-color: var(--presale-bg-main); }
        #presale .loader { border: 2px solid #fff; border-top: 2px solid var(--accent); width: 16px; height: 16px; margin-right: 8px; }
        #presale .btn-primary { background: linear-gradient(90deg, var(--accent), var(--accent-hover)); box-shadow: 0 0 15px rgba(245, 158, 11, 0.4); transition: all 0.3s ease-in-out; color: #1a1a1a; }
        #presale .btn-primary:hover:not(:disabled) { transform: translateY(-3px) scale(1.05); box-shadow: 0 0 25px rgba(245, 158, 11, 0.6); }
        #presale .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* AirBNFT Styles */
        .rental-card { transition: transform 0.2s; }
        .rental-card:hover { transform: translateY(-5px); }

        /* Dashboard Styles */
        .glass-panel { background: rgba(39, 39, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(82, 82, 91, 0.5); border-radius: 1rem; padding: 1.5rem; transition: all 0.3s ease; }
        .glass-panel:hover { border-color: rgba(245, 158, 11, 0.3); box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="antialiased">

    <div id="toast-container" class="fixed bottom-4 right-4 z-[60] flex flex-col gap-2"></div>

    <div class="relative min-h-screen lg:flex">
        <div id="sidebar-backdrop" class="fixed inset-0 bg-black/90 z-30 hidden lg:hidden"></div>

        <aside id="sidebar" class="fixed top-0 left-0 z-40 w-64 h-full bg-sidebar p-4 flex flex-col transition-transform duration-300 ease-in-out -translate-x-full lg:translate-x-0">
            
            <div class="flex items-center gap-3 px-2 mb-8">
                <img src="./assets/bkc_logo_3d.png" alt="Backcoin.org Logo" class="h-10 w-auto rounded-full">
                <span class="text-2xl font-bold text-amber-400">Backcoin.org</span>
            </div>

            <nav id="nav-links" class="flex flex-col flex-1 overflow-y-auto">
                 <div class="space-y-2">
                    <a data-target="dashboard" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors active">
                        <i class="fa-solid fa-chart-pie w-5 text-center"></i>
                        <span>Dashboard</span>
                    </a>
                    <a data-target="mine" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700">
                        <i class="fa-solid fa-layer-group w-5 text-center"></i>
                        <span>Staking Pool</span>
                    </a>
                    <a data-target="store" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700">
                        <i class="fa-solid fa-store w-5 text-center"></i>
                        <span>NFT Market</span>
                    </a>
                    <a data-target="rental" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-cyan-400 hover:text-white hover:bg-zinc-700/50 border border-cyan-900/30 bg-cyan-900/10">
                        <i class="fa-solid fa-house-user w-5 text-center"></i>
                        <span>AirBNFT (Rent)</span>
                    </a>
                    <a data-target="rewards" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700"><i class="fa-solid fa-id-card-clip w-5 text-center"></i><span>My Rewards</span></a>
                    <a data-target="actions" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700">
                        <i class="fa-solid fa-dice w-5 text-center"></i>
                        <span>Fortune Pool</span>
                    </a>
                    <a data-target="airdrop" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700"><i class="fa-solid fa-parachute-box w-5 text-center"></i><span>Airdrop</span></a>
                    <a data-target="notary" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700">
                        <i class="fa-solid fa-stamp w-5 text-center"></i><span>Decentralized Notary</span>
                    </a>
                    <a data-target="tokenomics" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700">
                        <i class="fa-solid fa-chart-line w-5 text-center"></i><span>Tokenomics</span>
                    </a>
                    <a title="Coming Soon" class="sidebar-link flex items-center justify-between gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 opacity-50 cursor-not-allowed">
                        <div class="flex items-center gap-4"><i class="fa-solid fa-shuffle w-5 text-center"></i><span>DEX Swap</span></div>
                        <span class="text-xs bg-zinc-700 text-zinc-300 font-semibold px-2 py-0.5 rounded-full">Soon</span>
                    </a>
                    <a title="Coming Soon" class="sidebar-link flex items-center justify-between gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 opacity-50 cursor-not-allowed">
                        <div class="flex items-center gap-4"><i class="fa-solid fa-landmark w-5 text-center"></i><span>DAO</span></div>
                        <span class="text-xs bg-zinc-700 text-zinc-300 font-semibold px-2 py-0.5 rounded-full">Soon</span>
                    </a>
                    </div>

                <div id="admin-link-container" class="mt-4 pt-4 border-t border-zinc-700" style="display: none;"><a data-target="admin" id="admin-link" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-red-400 hover:text-white hover:bg-red-500/50"><i class="fa-solid fa-user-shield w-5 text-center"></i><span>Admin Panel</span></a></div>

                <div class="mt-auto pt-4 border-t border-zinc-700 space-y-2">
                    <div class="px-4 pt-2 pb-4 text-center">
                        <div class="flex items-center justify-center gap-6">
                            <a href="https://x.com/backcoin" target="_blank" rel="noopener noreferrer" class="text-zinc-400 hover:text-white transition-colors text-xl"><i class="fa-brands fa-twitter"></i></a>
                            <a href="https://web.telegram.org/k/#@BackCoinorg" target="_blank" rel="noopener noreferrer" class="text-zinc-400 hover:text-white transition-colors text-xl"><i class="fa-brands fa-telegram"></i></a>
                            <a href="https://www.youtube.com/@Backcoin" target="_blank" rel="noopener noreferrer" class="text-zinc-400 hover:text-white transition-colors text-xl"><i class="fa-brands fa-youtube"></i></a>
                        </div>
                    </div>
                    <a data-target="about" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-amber-400 hover:text-amber-300 hover:bg-zinc-700"><i class="fa-solid fa-circle-info w-5 text-center"></i><span>About the Project</span></a>
                    <a href="#" id="shareProjectBtn" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-zinc-400 hover:text-white hover:bg-zinc-700"><i class="fa-solid fa-share-nodes w-5 text-center"></i><span>Share Project</span></a>
                    <a data-target="faucet" class="sidebar-link flex items-center gap-4 py-2.5 px-4 rounded-lg transition-colors text-cyan-400 hover:text-white hover:bg-zinc-700"><i class="fa-solid fa-faucet w-5 text-center"></i><span>Testnet Faucet</span></a>
                </div>
            </nav>
        </aside>

        <div class="lg:ml-64 flex-1 flex flex-col min-h-screen">
            
            <header class="sticky top-0 z-20 flex justify-between items-center p-4 bg-sidebar/80 backdrop-blur-sm border-b border-border-color">
                <div class="flex items-center gap-3">
                    <button id="menu-btn" class="lg:hidden text-xl text-zinc-400 hover:text-white h-10 w-10"><i class="fa-solid fa-bars"></i></button>
                    <img src="./assets/bkc_logo_3d.png" alt="Backcoin.org Logo" class="h-8 w-auto rounded-full lg:hidden">
                    <span id="mobileAppDisplay" class="text-xl font-bold text-amber-400 lg:hidden">Backcoin.org</span>
                </div>
                
                <div class="flex items-center ml-auto gap-2 sm:gap-3">
                    <div id="desktop-connection-controls" class="hidden lg:flex items-center gap-3">
                        <button id="customBuyCryptoBtn" class="hidden items-center justify-center gap-2 rounded-md transition-colors text-sm bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4">
                            <i class="fa-solid fa-wallet"></i> Buy Crypto
                        </button>
                        <button id="connectButtonDesktop" class="bg-amber-500 hover:bg-amber-600 text-zinc-900 font-bold py-2 px-4 rounded-md transition-colors text-xs font-mono text-center max-w-fit whitespace-nowrap relative">
                            Connect
                        </button>
                    </div>
                    <div id="mobile-connection-controls" class="flex items-center lg:hidden gap-2">
                        <button id="customBuyCryptoBtnMobile" class="hidden items-center justify-center h-10 w-10 text-xl text-blue-400 hover:text-white"><i class="fa-solid fa-wallet"></i></button>
                        <button id="connectButtonMobile" class="bg-amber-500 hover:bg-amber-600 text-zinc-900 font-bold py-2 px-3 rounded-md transition-colors text-xs font-mono text-center max-w-fit whitespace-nowrap relative">Connect</button>
                    </div>
                </div>
            </header>
            
            <main class="flex-1 overflow-y-auto bg-main p-4 sm:p-6 lg:p-8">
                <div class="container mx-auto max-w-7xl">

                    <section id="dashboard" class=""> 
                        <div id="initial-loader-container" class="flex flex-col items-center justify-center min-h-[65vh] animate-fadeIn relative">
                            
                            <div class="absolute inset-0 pointer-events-none flex items-center justify-center opacity-5">
                                <i class="fa-solid fa-gear text-[12rem] animate-construct-gear absolute top-0 left-0 text-zinc-500"></i>
                                <i class="fa-solid fa-gear text-[10rem] animate-construct-gear-rev absolute bottom-0 right-0 text-zinc-500"></i>
                            </div>

                            <div class="relative mb-10">
                                <div class="absolute inset-0 bg-amber-500 blur-3xl opacity-20 animate-pulse-slow rounded-full"></div>
                                <div class="relative z-20 animate-bounce-slow">
                                    <img src="./assets/bkc_logo_3d.png" class="w-32 h-32 object-contain filter drop-shadow-2xl" alt="Backchain Logo">
                                    <div class="absolute -right-6 -top-2 z-30 animate-construct-hammer origin-bottom-left">
                                        <i class="fa-solid fa-hammer text-3xl text-zinc-400 drop-shadow-lg"></i>
                                    </div>
                                    <div class="absolute -left-6 -bottom-2 z-30 animate-construct-hammer animation-delay-1000 origin-bottom-right">
                                        <i class="fa-solid fa-wrench text-3xl text-zinc-500 drop-shadow-lg"></i>
                                    </div>
                                </div>
                            </div>

                            <h2 class="text-2xl md:text-3xl font-bold text-white mb-3 tracking-tight font-display text-center">Building the Economy</h2>
                            <p id="loading-status-text" class="text-zinc-400 text-sm mb-8 font-mono h-6 text-center w-full max-w-md">Initializing protocol...</p>

                            <div class="w-64 md:w-80 h-2 bg-zinc-800 rounded-full overflow-hidden relative border border-zinc-700/50 shadow-inner">
                                <div id="loading-progress-bar" class="h-full bg-gradient-to-r from-amber-600 via-yellow-500 to-amber-600 bg-[length:200%_100%] animate-gradient-x rounded-full transition-all duration-300 ease-out" style="width: 0%"></div>
                            </div>
                            
                            <div class="mt-3 flex items-center gap-2">
                                <span id="loading-percentage" class="text-amber-400 font-mono font-bold text-xl">0</span>
                                <span class="text-amber-500/80 text-sm font-bold">%</span>
                            </div>
                        </div>

                        <script>
                            (function() {
                                const bar = document.getElementById('loading-progress-bar');
                                const txt = document.getElementById('loading-percentage');
                                const status = document.getElementById('loading-status-text');
                                let progress = 0;
                                
                                const messages = [
                                    "Establishing secure connection...",
                                    "Syncing block data...",
                                    "Loading market liquidity...",
                                    "Verifying smart contracts...",
                                    "Fetching user profile...",
                                    "Finalizing interface..."
                                ];

                                const interval = setInterval(() => {
                                    const increment = progress < 70 ? Math.random() * 3 : Math.random() * 1;
                                    progress += increment;
                                    
                                    // Trava em 99% até o app.js substituir o conteúdo
                                    if (progress > 99) progress = 99;

                                    if (bar && txt && status) {
                                        bar.style.width = `${progress}%`;
                                        txt.innerText = Math.floor(progress);
                                        
                                        const msgIndex = Math.floor((progress / 100) * messages.length);
                                        if (messages[msgIndex] && status.innerText !== messages[msgIndex]) {
                                            status.innerText = messages[msgIndex];
                                        }
                                    } else {
                                        clearInterval(interval);
                                    }
                                }, 80); // Velocidade
                            })();
                        </script>
                    </section>
                    
                    <section id="presale" class="hidden"></section>
                    <section id="mine" class="hidden"></section>
                    <section id="store" class="hidden"></section>
                    <section id="rental" class="hidden"></section>
                    <section id="rewards" class="hidden"></section>
                    <section id="actions" class="hidden"></section>
                    <section id="airdrop" class="hidden"></section>
                    <section id="notary" class="hidden"></section>
                    <section id="tokenomics" class="hidden"></section>
                    <section id="faucet" class="hidden"></section>
                    <section id="about" class="hidden"></section>
                    <section id="admin" class="hidden"></section>
                    <section id="socials" class="hidden"></section>

                </div>
            </main>
        </div>
    </div>
    <div id="modal-container"></div>
    <script type="module" src="./app.js"></script>
</body>
</html>